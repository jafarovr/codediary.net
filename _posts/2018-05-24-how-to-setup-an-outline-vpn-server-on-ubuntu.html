---
layout: post
status: publish
published: true
title: How to setup an Outline VPN Server on Ubuntu
author:
  display_name: codediary.net
  login: codediary
  email: info@codediary.net
  url: ''
author_login: codediary
author_email: info@codediary.net
wordpress_id: 257
wordpress_url: https://codediary.net/?p=257
date: '2018-05-24 21:17:38 +0100'
date_gmt: '2018-05-24 21:17:38 +0100'
categories:
- Security
- Linux
- Ubuntu
- Docker
- Windows
- VPN
tags:
- docker
- linux
- ubuntu
- outline
- vpn
- secure
- server
- digital-ocean
- l2tpd
- privacy
- android
- ios
- mac
- windows
---
<p>This guide will show you how to install Outline Server on an Ubuntu 16.04/18.04 Server, use Outline Manager for Windows and connect to your Outline Server on Windows and Android.</p>
<h1><a id="user-content-install-outline-manager" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#install-outline-manager" aria-hidden="true"></a>Install Outline Manager</h1>
<p>Outline Manager supports Windows, macOS and Linux.</p>
<p><!--more--></p>
<h2><a id="user-content-outline-manager-for-windows" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#outline-manager-for-windows" aria-hidden="true"></a>Outline Manager for Windows</h2>
<pre>https://github.com/Jigsaw-Code/outline-releases/blob/master/manager/Outline-Manager.exe
</pre>
<h2><a id="user-content-outline-manager-for-macos" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#outline-manager-for-macos" aria-hidden="true"></a>Outline Manager for macOS</h2>
<pre>https://github.com/Jigsaw-Code/outline-releases/blob/master/manager/Outline-Manager.dmg
</pre>
<h1><a id="user-content-install-outline-server" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#install-outline-server" aria-hidden="true"></a>Install Outline Server</h1>
<h2><a id="user-content-requirement" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#requirement" aria-hidden="true"></a>Requirement</h2>
<ul>
<li>An Ubuntu 16.04/18.04 Server</li>
<li>Sudo non-root user</li>
<li>Docker installed</li>
</ul>
<p>Mainly, there are two ways to install Outline Server on an Ubuntu Server.</p>
<h2><a id="user-content-simple-way" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#simple-way" aria-hidden="true"></a>Simple way</h2>
<p>Install Outline Manager on your computer, login to Digital Ocean using your own account and follow the instruction on the screen.</p>
<h2><a id="user-content-die-hard" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#die-hard" aria-hidden="true"></a>Die Hard</h2>
<p>If you wanna use your own server or just don't like DO, this is for you.</p>
<h3><a id="user-content-install-docker" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#install-docker" aria-hidden="true"></a>Install Docker</h3>
<p>You will need to install Docker on your server first. If not, run the following command:</p>
<pre>sudo curl -sS https://get.docker.com/ | sh
</pre>
<h3><a id="user-content-install-outline" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#install-outline" aria-hidden="true"></a>Install Outline</h3>
<p>All you need to do is run this command:</p>
<pre>sudo wget -qO- https://raw.githubusercontent.com/Jigsaw-Code/outline-server/master/src/server_manager/install_scripts/install_server.sh | bash
</pre>
<p>When you finished, the output should be like:</p>
<pre>Please copy the following configuration to your Outline Manager:
{ 
  "apiUrl": "https://1.2.3.4:1234/XXXXXXXXXXXX", 
  "certSha256": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" 
}
</pre>
<p>Just leave it there. You will need these information in the next step. That's enough for the server side. Now, we will move to the client side.</p>
<h3><a id="user-content-get-the-access-key" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#get-the-access-key" aria-hidden="true"></a>Get the access key</h3>
<ol>
<li>Open Outline Manager. Scrool down to the Advanced Mode and click on&nbsp;<strong>Get started</strong>&nbsp;button;</li>
<li>Copy everything within (include) the {} of the key on your server at the last step and paste it the field at the next screen;</li>
<li>Click&nbsp;<strong>Done</strong>;</li>
<li>There is a key automatically created for you (named 'My Access Key'). If you click 'Get Connected' next to it, you will be walked through how to download the appropriate client for your platform without needing to open up a new page. (Thanks to&nbsp;<a href="https://www.reddit.com/user/sandrigo" rel="nofollow">r/sandrigo</a>);</li>
<li>If you want to get a new key to share with your friends, Click&nbsp;<strong>Add key</strong>, and you will get something like "Key 1", click&nbsp;<strong>Share</strong>, it will show you the link to get the access key, click&nbsp;<strong>Copy to Clipboard</strong>&nbsp;and send it to your friends. (HEADS UP: EVERYONE WHO HAS THE LINK WILL BE ABLE TO CONNECT TO YOUR SERVER)</li>
</ol>
<pre>https://s3.amazonaws.com/outline-vpn/index.html#/invite/ss//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
</pre>
<ol start="5">
<li>Paste it to browser</li>
<li>Click on&nbsp;<strong>Connect this device</strong>, it will show you the key, click&nbsp;<strong>Copy</strong>&nbsp;to get the key.</li>
</ol>
<h3><a id="user-content-connect-to-outline" class="anchor" href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70#connect-to-outline" aria-hidden="true"></a>Connect to Outline</h3>
<p>Outline supports macOS, Windows, iOS, Android and Chrome OS.</p>
<p><strong>Windows</strong></p>
<pre>Windows 7.0+
</pre>
<p>Use this link to download Outline for Windows</p>
<pre>https://raw.githubusercontent.com/Jigsaw-Code/outline-releases/master/client/Outline-Client.exe
</pre>
<ol>
<li>Install Outline for Windows to your computer. Open it.</li>
<li>Click on + button at the upright corner.</li>
<li>Paste the key you copied above to the field and click&nbsp;<strong>Add server</strong></li>
<li>Click&nbsp;<strong>Connect</strong>&nbsp;at the next screen, wait until it connected.</li>
<li>Enjoy.</li>
</ol>
<p>Note: If it shows "key invaild", just try to reconnect several times.</p>
<p><strong>macOS</strong></p>
<pre>macOS 10.11+
</pre>
<p>Use this link to download Outline for macOS</p>
<pre>https://itunes.apple.com/us/app/outline-app/id1356178125
</pre>
<p>Download Outline for macOS from Mac AppStore, and repeat the steps for Windows above.</p>
<p><strong>iOS</strong></p>
<pre>iOS 9.0+
</pre>
<pre>https://itunes.apple.com/us/app/outline-app/id1356177741?mt=8
</pre>
<p>Download Outline for iOS from AppStore, and repeat the steps for Windows above.</p>
<p><strong>Android</strong></p>
<pre>Android 5.0+
</pre>
<pre>https://play.google.com/store/apps/details?id=org.outline.android.client
https://github.com/Jigsaw-Code/outline-releases/blob/master/client/Outline.apk
</pre>
<p>Download Outline for Android from the CH Play or Github, and repeat the steps for Windows above.</p>
<p>Thanks <a href="https://github.com/okeehou" target="_blank" rel="noopener noreferrer">@okeehou</a>&nbsp;for the great tutorial:&nbsp;<a href="https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70" target="_blank" rel="noopener noreferrer">https://gist.github.com/okeehou/275bb83601be346921622e05f13cba70</a></p>
