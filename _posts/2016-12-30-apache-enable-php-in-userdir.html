---
layout: post
status: publish
published: true
title: 'Apache: Enable PHP in UserDir'
author:
  display_name: codediary.net
  login: codediary
  email: info@codediary.net
  url: ''
author_login: codediary
author_email: info@codediary.net
wordpress_id: 53
wordpress_url: https://codediary.net/?p=53
date: '2016-12-30 14:40:56 +0000'
date_gmt: '2016-12-30 10:40:56 +0000'
categories:
- Linux
- PHP
- Apache
tags: []
---
<p>Here is a tip to PHP developers that uses the Debian family of distros: how enable the execution of PHP scripts in the <code>public_html</code> folder. Apparently, this feature is disabled by default in the Debian based distros. Before start, I'm assuming that you already have both Apache and PHP installed, configured and running.</p>
<p><!--more--></p>
<p>The interest in using Apache's <code>mod_userdir</code> is to increase the system security at the same time making easy the file handling. All the files inside the <code>public_html</code> folder present in your home dir will be accessible through Apache.</p>
<p>As root, run the following commands. First, we enable the userdir mod:</p>
<pre class="lang:default decode:true"># a2enmod userdir</pre>
<p>The script will enable the module and will tell you do restart Apache. At next, create the <code>public_html</code> folder using your normal user, inside your Home, and define its permissions:</p>
<pre class="lang:default decode:true">$ mkdir public_html
$ chmod 711 public_html</pre>
<p>Now, as root, define the Home's folders permissions(this is a critical detail):</p>
<pre class="lang:default decode:true"># chmod 711 /home /home/[your_login]
</pre>
<p>The next step is enable the execution of PHP scripts inside public_html. To do that, as root, open the file <code>/etc/apache2/mods-enabled/php5.conf</code> and find the following lines:</p>
<pre class="lang:default decode:true"><IfModule mod_userdir.c>
&nbsp; <Directory /home/*/public_html>
&nbsp; &nbsp; php_admin_value engine Off
&nbsp; </Directory>
</IfModule></pre>
<p>Comment them by putting a <code>#</code> in the beginning of each one. Save and close. Now restart the Apache server by running the following command as root:</p>
<pre class="lang:default decode:true"># /etc/init.d/apache2 restart</pre>
<p>The end! You can now run your PHP apps inside your public_html folder without being worried about doing weird tricks to read/write the default /var/www. :)</p>
