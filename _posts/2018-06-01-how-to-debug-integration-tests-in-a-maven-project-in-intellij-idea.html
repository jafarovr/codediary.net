---
layout: post
status: publish
published: true
title: How to debug integration tests in a Maven project in IntelliJ IDEA?
author:
  display_name: codediary.net
  login: codediary
  email: info@codediary.net
  url: ''
author_login: codediary
author_email: info@codediary.net
wordpress_id: 262
wordpress_url: https://codediary.net/?p=262
date: '2018-06-01 10:10:19 +0100'
date_gmt: '2018-06-01 10:10:19 +0100'
categories:
- Coding
- Java
- Maven
- Spring Boot
tags:
- Java
- debugging
- remote
- intelliij
- integration-tests
---
<h4>What is debugging?</h4>
<p>Debugging code is done in order to locate and fix bugs in it. This is an important step towards producing bug free code which in turn creates reliable software.</p>
<p>So now I will explain how to debug tests in IntelliJ IDEA IDE for a maven project in simple steps.</p>
<p><!--more--></p>
<p>Debugging integration tests.</p>
<h6>Step 1:</h6>
<p>The maven surefire plugin will be used for this purpose. And the operating system referenced here is Ubuntu with regard to the commands.</p>
<p>First setup break points in the lines of code that you need to debug. For this, you need to simply click on the left corner of the lines in the code editing area where you need the tests to pause during debugging. A red dot will appear when you click.</p>
<h6>Step 2 :</h6>
<p>Type the following command on the command line after moving into the directory containing your maven project's integration tests.</p>
<p>That is,</p>
<pre>cd <path-to-the-directory-containing-your-maven-project's-integrationtests>
mvn clean install -Dmaven.surefire.debug</pre>
<p>The tests will pause automatically and await a remote debugger on port 5005. (The port 5005 is set as default) You will see a statement in the command line notifying that it is listening in port 5005.</p>
<p>Listening for transport <strong>dt_socket</strong> at address: 5005</p>
<p>If you need to configure a different port, you can pass a more detailed value to the above command.</p>
<p>That is,</p>
<pre>mvn clean install -Dmaven.surefire.debug="-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000 -Xnoagent -Djava.compiler=NONE"</pre>
<p>(Note : This is a single command)</p>
<p>This command will use port 8000 instead of 5005.</p>
<h6>Step 3 :</h6>
<p>If you are running the debugger for the first time, you will have to edit the debugging configurations in the IntelliJ IDEA IDE. If you have already done the configuration and set the remote debugger port to attach to as 5005, there is no need to edit the configurations again.</p>
<p>The debug configurations can be edited as follows.</p>
<p>Go to Run --> Edit Configurations... in the IDE.</p>
<p>In the dialog box that appears, click on the '+' sign that you can see in the top left corner.</p>
<p>Select the 'Remote' option that you can find in the drop down list.</p>
<p>In the next window that appears, specify the port in the place where you have to specify it. Give a name for the configuration as well.</p>
<p>Then say Apply and then click Ok.</p>
<p>Now the configurations are set.</p>
<h6>Step 4 :</h6>
<p>You can then attach to the running tests using the IDE.</p>
<p>Go to Run --> Debug...</p>
<p>Then select the configuration that you specified before.</p>
<p>Now the tests are attached to the remote debugger.</p>
<p>This is all what you need to do.</p>
<p>The tests will be paused at the break points that you have specified before. The details of the requests coming in and out when the tests are run can be seen in the IDE. You can click and remove the break points one by one and resume the program after each pause, through the IDE.</p>
